{"ast":null,"code":"import _classCallCheck from\"/Users/chia/mini/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chia/mini/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/chia/mini/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/chia/mini/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import*as d3 from'd3';import IceCreamTest from'./IceCreamTest.csv';var BarChart=/*#__PURE__*/function(_React$Component){_inherits(BarChart,_React$Component);var _super=_createSuper(BarChart);function BarChart(){_classCallCheck(this,BarChart);return _super.apply(this,arguments);}_createClass(BarChart,[{key:\"componentDidMount\",value:function componentDidMount(){this.drawChart();}},{key:\"drawChart\",value:function drawChart(){var _this=this;var data=this.props.data;var svgWidth=this.props.width;var svgHeight=this.props.height;//Note: getting width and height from a variable rather than the elements attribute e.g. svg.attr(\"width\")\nvar margin={top:20,right:20,bottom:30,left:40},width=svgWidth-margin.left-margin.right,height=svgHeight-margin.top-margin.bottom;d3.csv(IceCreamTest).then(function(data){console.log(data);var xAxis=d3.scaleBand().rangeRound([0,width]).padding(0.1);var yAxis=d3.scaleLinear().rangeRound([height,0]);xAxis.domain(data.map(function(d){return d.Temperature;}));yAxis.domain([0,d3.max(data,function(d){return d.Revenue;})]);var svg=d3.select(\"body\").append(\"svg\").attr(\"width\",_this.props.width).attr(\"height\",_this.props.height).append(\"g\").attr(\"transform\",\"translate(\"+margin.left+\",\"+margin.top+\")\");svg.append(\"g\").attr(\"class\",\"x axis\").attr(\"transform\",\"translate(0,\"+height+\")\").call(d3.axisBottom(xAxis));svg.append(\"g\").attr(\"class\",\"y axis\").call(d3.axisLeft(yAxis));svg.selectAll(\"bar\").data(data).enter().append(\"rect\").style(\"fill\",\"steelblue\").attr(\"x\",function(d){return xAxis(d.Temperature);}).attr(\"width\",xAxis.bandwidth()).attr(\"y\",function(d){return yAxis(d.Revenue);}).attr(\"height\",function(d){return height-yAxis(d.Revenue);}).attr(\"fill\",function(d){return\"rgb(0, 0, \"+Math.round(d.out_temperature*155+100)+\")\";});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"#\"+this.props.id});}}]);return BarChart;}(React.Component);export default BarChart;","map":{"version":3,"sources":["/Users/chia/mini/src/BarChart.js"],"names":["React","Component","d3","IceCreamTest","BarChart","drawChart","data","props","svgWidth","width","svgHeight","height","margin","top","right","bottom","left","csv","then","console","log","xAxis","scaleBand","rangeRound","padding","yAxis","scaleLinear","domain","map","d","Temperature","max","Revenue","svg","select","append","attr","call","axisBottom","axisLeft","selectAll","enter","style","bandwidth","Math","round","out_temperature","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport * as d3 from 'd3';\nimport IceCreamTest from './IceCreamTest.csv';\n\nclass BarChart extends React.Component {\n  componentDidMount() {\n    this.drawChart();\n  }\n\n  drawChart() {\n    const data = this.props.data;\n    const svgWidth = this.props.width;\n    const svgHeight = this.props.height;\n\n    //Note: getting width and height from a variable rather than the elements attribute e.g. svg.attr(\"width\")\n    const margin = { top: 20, right: 20, bottom: 30, left: 40 },\n      width = svgWidth - margin.left - margin.right,\n      height = svgHeight - margin.top - margin.bottom;\n\n\n    d3.csv(IceCreamTest).then((data) => {\n      console.log(data);\n\n      const xAxis = d3.scaleBand()\n        .rangeRound([0, width])\n        .padding(0.1)\n\n      const yAxis = d3.scaleLinear()\n        .rangeRound([height, 0]);\n\n        xAxis.domain(data.map(function(d) { return d.Temperature; }));\n        yAxis.domain([0, d3.max(data, function(d) { return d.Revenue; })]);\n\n      const svg = d3.select(\"body\").append(\"svg\")\n        .attr(\"width\", this.props.width)\n        .attr(\"height\", this.props.height)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n      svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(xAxis))\n\n      svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(d3.axisLeft(yAxis))\n\n      svg.selectAll(\"bar\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .style(\"fill\", \"steelblue\")\n        .attr(\"x\", function(d) { return xAxis(d.Temperature); })\n        .attr(\"width\", xAxis.bandwidth())\n        .attr(\"y\", function(d) { return yAxis(d.Revenue); })\n        .attr(\"height\", function(d) { return height - yAxis(d.Revenue); })\n        .attr(\"fill\", function(d) {\n          return \"rgb(0, 0, \" + Math.round((d.out_temperature * 155)+100) + \")\"; })\n    });\n  }\n\n  render(){\n    return <div id={\"#\" + this.props.id}></div>\n  }\n}\n\nexport default BarChart;\n"]},"metadata":{},"sourceType":"module"}