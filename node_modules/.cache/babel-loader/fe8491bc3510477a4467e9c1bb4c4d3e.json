{"ast":null,"code":"var _jsxFileName = \"/Users/chia/mini/src/ScatterPlot.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport IceCreamTest from './IceCreamTest.csv';\n\nclass ScatterPlot extends React.Component {\n  componentDidMount() {\n    this.drawChart();\n  }\n\n  drawChart() {\n    const data = this.props.data;\n    const svgWidth = this.props.width;\n    const svgHeight = this.props.height; //Note: getting width and height from a variable rather than the elements attribute e.g. svg.attr(\"width\")\n\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 30,\n      left: 40\n    },\n          width = svgWidth - margin.left - margin.right,\n          height = svgHeight - margin.top - margin.bottom;\n    d3.csv(IceCreamTest).then(data => {\n      console.log(data);\n      const xAxis = d3.scaleBand().rangeRound([0, width]).padding(0.1);\n      const yAxis = d3.scaleLinear().rangeRound([height, 0]);\n      var svg = d3.select(\"#my_dataviz\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // Add X axis\n\n      var x = d3.scaleLinear().domain([0, 4000]).range([0, width]);\n      svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)); // Add Y axis\n\n      var y = d3.scaleLinear().domain([0, 500000]).range([height, 0]);\n      svg.append(\"g\").call(d3.axisLeft(y));\n      x.domain(d3.extent(data, function (d) {\n        return d.Temperature;\n      }));\n      y.domain([0, d3.max(data, function (d) {\n        return d.Revenue;\n      })]); // Add dots\n\n      svg.append('g').selectAll(\"dot\").data(data).enter().append(\"circle\").attr(\"cx\", function (d) {\n        return x(d.Temperature);\n      }).attr(\"cy\", function (d) {\n        return y(d.Revenue);\n      }).attr(\"r\", 5).style(\"fill\", \"steelblue\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"#\" + this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default ScatterPlot;","map":{"version":3,"sources":["/Users/chia/mini/src/ScatterPlot.js"],"names":["React","Component","d3","IceCreamTest","ScatterPlot","componentDidMount","drawChart","data","props","svgWidth","width","svgHeight","height","margin","top","right","bottom","left","csv","then","console","log","xAxis","scaleBand","rangeRound","padding","yAxis","scaleLinear","svg","select","append","attr","x","domain","range","call","axisBottom","y","axisLeft","extent","d","Temperature","max","Revenue","selectAll","enter","style","render","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport * as d3 from 'd3';\nimport IceCreamTest from './IceCreamTest.csv';\n\nclass ScatterPlot extends React.Component {\n  componentDidMount() {\n    this.drawChart();\n  }\n\n  drawChart() {\n    const data = this.props.data;\n    const svgWidth = this.props.width;\n    const svgHeight = this.props.height;\n\n    //Note: getting width and height from a variable rather than the elements attribute e.g. svg.attr(\"width\")\n    const margin = { top: 20, right: 20, bottom: 30, left: 40 },\n      width = svgWidth - margin.left - margin.right,\n      height = svgHeight - margin.top - margin.bottom;\n\n\n    d3.csv(IceCreamTest).then((data) => {\n      console.log(data);\n\n      const xAxis = d3.scaleBand()\n        .rangeRound([0, width])\n        .padding(0.1)\n\n      const yAxis = d3.scaleLinear()\n        .rangeRound([height, 0]);\n\n      var svg = d3.select(\"#my_dataviz\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      // Add X axis\n      var x = d3.scaleLinear()\n        .domain([0, 4000])\n        .range([ 0, width ]);\n      svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x));\n\n      // Add Y axis\n      var y = d3.scaleLinear()\n        .domain([0, 500000])\n        .range([ height, 0]);\n      svg.append(\"g\")\n        .call(d3.axisLeft(y));\n\n        x.domain(d3.extent(data, function(d) { return d.Temperature; }));\n        y.domain([0, d3.max(data, function(d) { return d.Revenue; })]);\n\n      // Add dots\n      svg.append('g')\n        .selectAll(\"dot\")\n        .data(data)\n        .enter()\n        .append(\"circle\")\n          .attr(\"cx\", function (d) { return x(d.Temperature); } )\n          .attr(\"cy\", function (d) { return y(d.Revenue); } )\n          .attr(\"r\", 5)\n          .style(\"fill\", \"steelblue\")\n})\n\n  }\n\n  render(){\n    return <div id={\"#\" + this.props.id}></div>\n  }\n}\n\nexport default ScatterPlot;\n"]},"metadata":{},"sourceType":"module"}